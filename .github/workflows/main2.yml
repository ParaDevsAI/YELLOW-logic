name: Extract Secrets Workflow

on: 
  workflow_dispatch: # This allows you to run it manually from the Actions tab

jobs:
  extract-secrets:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Use Telegram Secrets
        run: |
          echo "Telegram ID is set"
          # Logic using $TELEGRAM_API_ID
        env:
          TELEGRAM_API_ID: ${{ secrets.TELEGRAM_API_ID }}
          TELEGRAM_API_HASH: ${{ secrets.TELEGRAM_API_HASH }}

      - name: Use Supabase Secrets
        run: |
          echo "Connecting to Supabase at $SUPABASE_URL"
        env:
          SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
          SUPABASE_KEY: ${{ secrets.SUPABASE_KEY }}

      - name: Use Social & Group IDs
        run: |
          echo "Twitter API Key and Group IDs are ready"
        env:
          TWITTER_API_KEY: ${{ secrets.TWITTER_API_KEY }}
          SCORING_GROUP_ID: ${{ secrets.SCORING_GROUP_ID }}
          TWEETS_GROUP_ID: ${{ secrets.TWEETS_GROUP_ID }}
